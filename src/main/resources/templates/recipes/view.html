<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–†–µ—Ü–µ–ø—Ç</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <nav class="navbar navbar-light bg-light mb-4">
        <a class="navbar-brand" href="/">üçΩÔ∏è –†–µ—Ü–µ–ø—Ç –¥–Ω—è</a>
        <a href="/recipes" class="btn btn-secondary">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
    </nav>

    <div class="card" th:if="${recipe}">
        <div class="card-header bg-primary text-white">
            <h3 th:text="${recipe.title}">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞</h3>
        </div>
        
        <div class="card-body">
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> 
                <span th:text="${recipe.description} ?: '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'"></span>
            </p>
            
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> 
                <span th:text="${recipe.category.title}">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
            </p>
            
            <p><strong>–í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</strong> 
                <span th:text="${recipe.formattedPreparationTime}">30 –º–∏–Ω</span>
            </p>
            
            <p><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> 
                <span th:text="${recipe.difficultyStars}">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</span>
            </p>
            
            <p><strong>–ü–æ—Ä—Ü–∏–π:</strong> 
                <span th:text="${recipe.servings}">4</span>
            </p>
            
            <div th:if="${recipe.rating != null}">
                <p><strong>–†–µ–π—Ç–∏–Ω–≥:</strong> 
                    <span th:text="${recipe.rating}">4.5</span>/5
                </p>
            </div>
            
            <hr>
            
            <h5>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</h5>
            <div class="bg-light p-3 rounded">
                <pre style="white-space: pre-wrap;" th:text="${recipe.ingredients}"></pre>
            </div>
            
            <h5 class="mt-4">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h5>
            <div class="bg-light p-3 rounded">
                <pre style="white-space: pre-wrap;" th:text="${recipe.instructions}"></pre>
            </div>
        </div>
        
        <div class="card-footer">
            <a th:href="@{/recipes/edit/{id}(id=${recipe.id})}" class="btn btn-warning">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <a th:href="@{/favorites/create/{id}(id=${recipe.id})}" class="btn btn-success">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
            <a th:href="@{/recipes/delete/{id}(id=${recipe.id})}" 
               class="btn btn-danger"
               onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ä–µ—Ü–µ–ø—Ç?')">–£–¥–∞–ª–∏—Ç—å</a>
        </div>
    </div>
    
    <div th:unless="${recipe}" class="alert alert-danger">
        <h4>–†–µ—Ü–µ–ø—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω</h4>
        <p>–í–æ–∑–º–æ–∂–Ω–æ, —Ä–µ—Ü–µ–ø—Ç –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª.</p>
        <a href="/recipes" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ä–µ—Ü–µ–ø—Ç–æ–≤</a>
    </div>
</div>
</body>
</html>
